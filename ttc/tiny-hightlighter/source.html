<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script>var tinymce,editor,codemirror,CMsettings,chr=0,isMac=/macintosh|mac os/i.test(navigator.userAgent);function inArray(e,t){"use strict";return-1!=(t="|"+t.join("|")+"|").indexOf("|"+e+"|")}function start(){"use strict";if("function"==typeof window.CodeMirror){var e=parent.document.querySelectorAll(tinymce.majorVersion<5?".mce-foot":".tox-dialog__footer")[0],t=parent.document.createElement("div"),i='<td style="font-size:11px;background:#777;color:#fff;padding:0 4px">',s='<td style="font-size:11px;padding-right:5px">';t.innerHTML='<table cellspacing="0" cellpadding="0" style="border-spacing:4px"><tr>'+i+(isMac?"&#8984;-F":"Ctrl-F</td>")+s+tinymce.translate("Start search")+"</td>"+i+(isMac?"&#8984;-G":"Ctrl-G")+"</td>"+s+tinymce.translate("Find next")+"</td>"+i+(isMac?"&#8984;-Alt-F":"Shift-Ctrl-F")+"</td>"+s+tinymce.translate("Find previous")+"</td></tr><tr>"+i+(isMac?"&#8984;-Alt-F":"Shift-Ctrl-F")+"</td>"+s+tinymce.translate("Replace")+"</td>"+i+(isMac?"Shift-&#8984;-Alt-F":"Shift-Ctrl-R")+"</td>"+s+tinymce.translate("Replace all")+"</td></tr></table>",t.style.position="absolute",t.style.left=t.style.bottom="5px",e.appendChild(t);var n=editor.getContent({source_view:!0});n=n.replace(/<span\s+style="display: none;"\s+class="CmCaReT"([^>]*)>([^<]*)<\/span>/gm,String.fromCharCode(chr)),editor.dom.remove(editor.dom.select(".CmCaReT")),tinymce.each(editor.contextToolbars,(function(e){e.panel&&e.panel.hide()})),CodeMirror.defineInitHook((function(e){e.focus();var t=e.getSearchCursor(String.fromCharCode(chr),!1);if(t.findNext()&&(e.setCursor(t.to()),t.replace("")),editor.settings.codemirror.indentOnInit){var i=e.lineCount();e.operation((function(){for(var t=0;t<i;++t)e.indentLine(t)}))}})),CMsettings.config.value=n,(codemirror=CodeMirror(document.body,CMsettings.config)).isDirty=!1,codemirror.on("change",(function(e){e.isDirty=!0}))}else alert('CodeMirror not found in "'+CMsettings.path+'", aborting...')}function findDepth(e,t){"use strict";var i,s=0;for(i=e.indexOf(t)-1;i>=0;i--)switch(e.charAt(i)){case"<":s--;break;case">":case"&":s++}return s}function submit(){"use strict";var e="&#x0;",t=codemirror.isDirty,i=codemirror.doc;i.somethingSelected()&&i.setCursor(i.getCursor()),i.replaceSelection(e);var s=codemirror.getCursor(),n=i.getLine(s.line);0!==findDepth(n,e)&&(n=n.replace(e,""),i.replaceRange(n,CodeMirror.Pos(s.line,0),CodeMirror.Pos(s.line)));var r=codemirror.getValue(),o=new RegExp("<script(.*?)>(.*?)&#x0;(.*?)<\/script>","ms"),c=new RegExp("<style(.*?)>(.*?)&#x0;(.*?)</style>","ms"),a=new RegExp("<[^>]*(&#x0;).*>|^(&#x0;)|(&#x0;)$");-1!==r.search(o)||-1!==r.search(c)||-1!==r.search(a)?editor.setContent(r.replace(e,"")):editor.setContent(r.replace(e,'<span id="CmCaReT"></span>')),editor.isNotDirty=!t,t&&editor.nodeChanged();var d=editor.dom.select("span#CmCaReT")[0];d&&(editor.selection.scrollIntoView(d),editor.selection.setCursorLocation(d,0),editor.dom.remove(d))}!function(){"use strict";tinymce=parent.tinymce;var e,t=(editor=tinymce.activeEditor).settings.codemirror;for(e in CMsettings={path:"../../codemirror",indentOnInit:t.indentOnInit||!1,disableFilesMerge:!1,config:{mode:"htmlmixed",theme:"default",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,indentWithTabs:!0,matchBrackets:!0,saveCursorPosition:!0,styleActiveLine:!0},jsFiles:["lib/codemirror.min.js","addon/edit/matchbrackets.min.js","mode/xml/xml.min.js","mode/javascript/javascript.min.js","mode/css/css.min.js","mode/htmlmixed/htmlmixed.min.js","addon/dialog/dialog.min.js","addon/search/searchcursor.min.js","addon/search/search.min.js","addon/selection/active-line.min.js"],cssFiles:["lib/codemirror.css","addon/dialog/dialog.css"]},t.fullscreen&&(CMsettings.jsFiles.push("addon/display/fullscreen.min.js"),CMsettings.cssFiles.push("addon/display/fullscreen.css")),t.config)CMsettings.config[e]=t.config[e];for(e in t.jsFiles)inArray(t.jsFiles[e],CMsettings.jsFiles)||CMsettings.jsFiles.push(t.jsFiles[e]);for(e in t.cssFiles)inArray(t.cssFiles[e],CMsettings.cssFiles)||CMsettings.cssFiles.push(t.cssFiles[e]);for(/\/$/.test(CMsettings.path)||(CMsettings.path+="/"),e=0;e<CMsettings.cssFiles.length;e++)document.write('<link rel="stylesheet" type="text/css" href="'+CMsettings.path+CMsettings.cssFiles[e]+'" />');for(e=0;e<CMsettings.jsFiles.length;e++)document.write('<script type="text/javascript" src="'+CMsettings.path+CMsettings.jsFiles[e]+'"><\/script>');CMsettings.config.theme&&(document.documentElement.className+=CMsettings.config.theme.replace(/(^|\s)\s*/g," cm-s-")),window.onload=start}(),document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&tinymce.activeEditor.windowManager.close()};</script>
    <style type="text/css">body,html{height:100%}body{margin:0}.CodeMirror{font-size:12px;height:100%;line-height:18px}.CodeMirror-activeline-background{background:#e8f2ff!important}.cm-trailingspace{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAACCAYAAAB/qH1jAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QUXCToH00Y1UgAAACFJREFUCNdjPMDBUc/AwNDAAAFMTAwMDA0OP34wQgX/AQBYgwYEx4f9lQAAAABJRU5ErkJggg==);background-position:0 100%;background-repeat:repeat-x}</style>
  </head>
  <body></body>
</html>
